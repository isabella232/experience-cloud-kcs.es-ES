---
title: "El token de propiedad de la página no está identificado por el VEC de Target"
description: Descripción
solution: Target
product: Target
applies-to: "Target"
keywords: "KCS, token de propiedad, página, no identificado, VEC de Target, Adobe Target, at_property, función window.targetPageParams"
resolution: Resolution
internal-notes: null
bug: true
article-created-by: Jim Menn
article-created-date: "9/27/2022 4:08:29 AM"
article-published-by: Jim Menn
article-published-date: "9/27/2022 6:32:36 AM"
version-number: 3
article-number: KA-15576
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=32246c07-1a3e-ed11-9db1-0022480866ad"
source-git-commit: 22f4625b33a00edc1424fe0e944b81212b4a0b1f
workflow-type: tm+mt
source-wordcount: '392'
ht-degree: 0%

---

# El token de propiedad de la página no se identifica mediante el VEC de Target.

## Descripción


<b>Entorno</b>
Adobe Target

<b>Problema</b>
El VEC de Target no puede reconocer correctamente el token de propiedad de la página.

El VEC muestra un mensaje de advertencia *No se ha encontrado ningún token de propiedad en esta página* al crear la actividad.

<b>Causa</b>
<b>¿Cómo es que `at_property` se utiliza durante &quot;creación&quot; y &quot;envío&quot;?</b>

<u>Creación</u>: Cuando un cliente carga su página/SPA en VEC, VEC explora la página para encontrar la variable `window.targetPageParams` función.
Si encuentra esta función, la ejecutará e intentará extraer la `at_property` y, en función de este valor, determine el espacio de trabajo de esta propiedad.
Si VEC no encuentra esta función o esta función falta, VEC pasará de forma predeterminada al espacio de trabajo predeterminado.

<u>Entrega</u>: Durante la entrega, Target edge no considera dónde está la variable `at_property` proviene de. Siempre y cuando el valor de la propiedad se pase en la solicitud, funcionará correctamente.

<u>¿Cómo funciona en Launch?</u>
Con estos dos modos de operación descritos, es necesario explicar qué sucede en Launch.
En Launch, los clientes pueden añadir parámetros a las acciones de Launch de la forma que deseen, por lo general `at_property` se pasa como parámetro a `Fire global mbox request`.
Esto funciona bueno para la entrega, pero al cargar el sitio en VEC, ya que no hay `window.targetPageParams`, el VEC no puede capturar el espacio de trabajo correcto.


## Resolución


<b>Solución alternativa</b>
Una forma de evitar este problema y asegurarse de que el VEC funciona según lo esperado, es solicitar a los clientes que creen una acción de código personalizado de Launch que defina la variable `window.targetPageParams` función con `at_property`.

El cliente tendría que asegurarse de que esta acción se ejecuta justo antes de cargar la biblioteca de Target o activar una solicitud de mbox global.

Una alternativa sería ajustar el VEC de modo que haya integración nativa entre VEC y Adobe Launch, pero esto requeriría un ámbito adecuado, y la implementación tardará más tiempo.

<u>Pasos para la solución alternativa</u>:

1. Cree una acción de código personalizado de Launch que defina la variable `window.targetPageParams` función con `at_property`.


```
window.targetPageParams = function() {return {"at_property" : "%atproperty%"}; }
```


2. Asegúrese también de que esta acción se ejecuta justo antes de cargar la biblioteca de Target o activar una solicitud de mbox global.

Los pasos anteriores deben garantizar que el VEC reconozca la propiedad correctamente al crear la actividad.

![](http://omniture.custhelp.com/ci/inlineImage/get/3018176/a5a902ecd7ac849bb5bf0fa7e22e14e7)
